<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</head>
<body>

<h2>Add emissions</h2>

<form >
  <label for="country">Country:</label><br>
  <input type="text" id="country" name="country" value="" class="form-control"><br>

  <label for="carbonDioxide">Carbon Dioxide:</label><br>
  <input type="text" id="carbonDioxide" name="carbonDioxide" value="" class="form-control"><br><br>

  <label for="methane">Methane:</label><br>
  <input type="text" id="methane" name="methane" value="" class="form-control"><br><br>

  <label for="nitrousOxide">Nitrous Oxide:</label><br>
  <input type="text" id="nitrousOxide" name="nitrousOxide" value="" class="form-control"><br><br>

  <label for="greenhouseGases">Greenhouse Gases:</label><br>
  <input type="text" id="greenhouseGases" name="greenhouseGases" value="" class="form-control"><br><br>


  <input type="submit" value="Save" class="btn btn-primary" onclick="add();">
</form>



<a href="../index.html" class="link-secondary">Home</a>

</body>
</html>


<script>
  function add(){
    console.log("Adding");
    var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance
    xmlhttp.open( "POST", "http://localhost:8080/emissions/", true );

    xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

    var country = document.getElementById("country");
    var carbonDioxide = document.getElementById("carbonDioxide");
    var methane = document.getElementById("methane");
    var nitrousOxide = document.getElementById("nitrousOxide");
    var greenhouseGases = document.getElementById("greenhouseGases");

    var newEmissions = {
      "country": country.value,
      "carbonDioxide": carbonDioxide.value,
      "methane": methane.value,
      "nitrousOxide": nitrousOxide.value,
      "greenhouseGases": greenhouseGases.value

    }

    xmlhttp.send(JSON.stringify(newEmissions));
  }
</script>
